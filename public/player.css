/* ═══════════════════════════════════════════════════════
   Live Stream Player
   ═══════════════════════════════════════════════════════ */


/* ── Animations ──────────────────────────────────────── */

@keyframes pulse-dot {
    0%, 100% { opacity: 1; }
    50%      { opacity: .3; }
}


/* ── Live Dot ────────────────────────────────────────── */

.live-dot {
    width: 7px;
    height: 7px;
    background: #f43f5e;
    border-radius: 50%;
    animation: pulse-dot 1.4s ease-in-out infinite;
}


/* ── Status Dot ──────────────────────────────────────── */

.status-dot {
    width: 8px;
    height: 8px;
    border-radius: 50%;
    flex-shrink: 0;
    transition: background .3s, box-shadow .3s;
}

.status-dot.connected    { background: #34d399; box-shadow: 0 0 8px #34d39960; }
.status-dot.disconnected { background: #71717a; }
.status-dot.connecting   { background: #fbbf24; animation: pulse-dot 1s ease-in-out infinite; }


/* ── Player Glass Panel ───────────────────────────────── */

.player-glass {
    background: rgba(255, 255, 255, .9);
    backdrop-filter: blur(24px) saturate(1.2);
    /* -webkit-backdrop-filter: blur(24px) saturate(1.2);
    box-shadow:
        0 1px 0 0 rgba(255, 255, 255, .05) inset,
        0 20px 50px -12px rgba(0, 0, 0, .4); */
    transition: border-color .5s, box-shadow .5s, background .5s;
}

/* When streaming — glass picks up ambient color + brighter border */
.player-glass.player-glow-on {
    background: rgba(255, 255, 255, .03);
    border-color: rgba(255, 255, 255, .1);
    /* box-shadow:
        0 1px 0 0 rgba(255, 255, 255, .06) inset,
        0 24px 60px -12px rgba(0, 0, 0, .5); */
}



/* ── Ambient Light ───────────────────────────────────── */

.ambient-wrap {
    position: relative;
}

.ambient-canvas {
    position: absolute;
    inset: 0;
    width: 100%;
    height: 100%;
    filter: blur(90px) saturate(1.2) brightness(0.55);
    transform: scale(1.2);
    opacity: 0;
    transition: opacity .8s ease;
    pointer-events: none;
    z-index: 0;
    border-radius: 24px;
}

.ambient-canvas.active {
    opacity: 1;
}

/* Reduce blur on mobile for perf */
@media (max-width: 639px) {
    .ambient-canvas {
        filter: blur(50px) saturate(1.4) brightness(0.55);
        transform: scale(1.2);
    }
}


/* ── Controls Gradient ───────────────────────────────── */

.ctrl-gradient {
    background: linear-gradient(to top, rgba(0,0,0,.7) 0%, rgba(0,0,0,.4) 60%, transparent 100%);
}


/* ── Control Buttons ─────────────────────────────────── */

.ctrl-btn {
    width: 42px;
    height: 42px;
    flex-shrink: 0;
    border-radius: 50%;
    border: none;
    background: rgba(255, 255, 255, .1);
    backdrop-filter: blur(16px);
    -webkit-backdrop-filter: blur(16px);
    color: #fff;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: background .15s, transform .1s;
    -webkit-tap-highlight-color: transparent;
}

.ctrl-btn:hover  { background: rgba(255, 255, 255, .18); }
.ctrl-btn:active { transform: scale(.92); }

.ctrl-btn-primary {
    background: rgba(99, 102, 241, .35);
}
.ctrl-btn-primary:hover {
    background: rgba(99, 102, 241, .5);
}

/* Bigger touch targets on mobile */
@media (max-width: 639px) {
    .ctrl-btn { width: 44px; height: 44px; }
}


/* ── Controls Visibility ─────────────────────────────── */

.controls.visible {
    opacity: 1 !important;
    pointer-events: auto !important;
}

.player-wrapper.hide-cursor { cursor: none; }

/* On touch devices, keep controls visible longer */
@media (hover: none) {
    .controls { transition-delay: 0.1s; }
}


/* ── Volume Slider ───────────────────────────────────── */

.volume-slider {
    -webkit-appearance: none;
    appearance: none;
    width: 100px;
    height: 4px;
    background: rgba(255, 255, 255, .2);
    border-radius: 2px;
    cursor: pointer;
    outline: none;
}

.volume-slider::-webkit-slider-thumb {
    -webkit-appearance: none;
    width: 14px;
    height: 14px;
    background: #fff;
    border-radius: 50%;
    cursor: pointer;
    box-shadow: 0 1px 4px rgba(0, 0, 0, .5);
}

.volume-slider::-moz-range-thumb {
    width: 14px;
    height: 14px;
    background: #fff;
    border: none;
    border-radius: 50%;
    cursor: pointer;
}

.volume-slider::-moz-range-track {
    height: 4px;
    background: rgba(255, 255, 255, .2);
    border-radius: 2px;
}


/* ── Keyboard Hints ──────────────────────────────────── */

kbd {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    min-width: 24px;
    height: 22px;
    padding: 0 7px;
    font-family: inherit;
    font-size: 11px;
    font-weight: 500;
    color: #71717a;
    background: #1a1d28;
    border: 1px solid #262a38;
    border-radius: 5px;
    line-height: 1;
}


/* ── Overlay ─────────────────────────────────────────── */

.overlay-hidden {
    opacity: 0 !important;
    pointer-events: none !important;
}


/* ── Fullscreen ──────────────────────────────────────── */

.player-wrapper:fullscreen,
.player-wrapper:-webkit-full-screen {
    background: #000;
    display: flex;
    align-items: center;
    justify-content: center;
}

.player-wrapper:fullscreen #video,
.player-wrapper:-webkit-full-screen #video {
    max-height: 100vh;
    width: auto;
    max-width: 100vw;
}

.player-wrapper:fullscreen .controls  { position: fixed; }
.player-wrapper:fullscreen #overlay   { position: fixed; }


/* ── Safe area (notch devices) ───────────────────────── */

@supports (padding: env(safe-area-inset-bottom)) {
    body { padding-bottom: env(safe-area-inset-bottom); }
}
